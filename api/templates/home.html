{% extends 'base.html' %}

{% block content %}

    {% if user.is_authenticated %}

    <h1>API Dashboard</h1>
    <div class="container text-center">
      <div class="row">
        <div class="col">
          
          <div class="card" style="width: 18rem;">
            <div class="card-body">
              <h5 class="card-title">Number of Requests.</h5>
              <h1 class="card-text">
                {% if log %}
                  {{ log.num_requests }}
                {% else %}
                 0
                {% endif %}
              </h1>
            </div>
          </div>

        </div>
        <div class="col">
          <div class="card" style="width: 18rem;">
            <div class="card-body">
              <h5 class="card-title">Number of Failed Requests.</h5>
              <h1 class="card-text">
                {% if log %}
                  {{ log.num_failed_requests }}
                {% else %}
                 0
                {% endif %}
              </h1>
            </div>
          </div>
        </div>
      </div>

      <br/>

      <div class="row">
        <div class="col">

          <div class="card" style="width: 18rem;">
            <div class="card-body">
              <h5 class="card-title">Number of Postive Requests.</h5>
              <h1 class="card-text">
                {% if log %}
                  {{ log.num_pos_requests }}
                {% else %}
                 0
                {% endif %}
              </h1>
            </div>
          </div>

        </div>
        <div class="col">

          <div class="card" style="width: 18rem;">
            <div class="card-body">
              <h5 class="card-title">Number of Negative Requests.</h5>
              <h1 class="card-text">
                {% if log %}
                  {{ log.num_neg_requests }}
                {% else %}
                 0
                {% endif %}
              </h1>
            </div>
          </div>

        </div>
      </div>

    </div>
    
    {% else %}
  <div class="col-md-6 offset-md-3">
    <h1>Login</h1>
    <br/>

    <form method="POST" action="{% url 'home' %}">
        {% csrf_token %}
        <div class="mb-3">
            <input type="text" class="form-control" name="username" placeholder="Username" required>
          </div> <br/>
          <div class="mb-3">
            <input type="password" class="form-control" name="password" placeholder="Password" required>
          </div> <br/>
          
          <button type="submit" class="btn btn-secondary">Login</button>
    </form>
  </div>
    {% endif %}



{% endblock %}